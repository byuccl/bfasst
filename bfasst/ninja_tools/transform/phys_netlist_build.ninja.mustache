build {{ phys_netlist_output }}/checkpoint_to_v.tcl: template {{ phys_netlist_output }}/checkpoint_to_v.json {{ phys_netlist_library }}/checkpoint_to_v.tcl.mustache

build {{ phys_netlist_output }}/viv_impl_physical.edf {{ phys_netlist_output }}/phys_netlist.dcp {{ phys_netlist_output }}/log.txt: phys_netlist | bfasst/ninja_utils/rw_phys_netlist.py {{ build_dir }}/in_context/impl/viv_impl.edif {{ build_dir }}/in_context/impl/impl.dcp
    build_dir = {{ build_dir }}

build {{ phys_netlist_output }}/viv_impl_physical.v: vivado {{ phys_netlist_output }}/checkpoint_to_v.tcl | {{ phys_netlist_output }}/viv_impl_physical.edf {{ phys_netlist_output }}/phys_netlist.dcp
    journal = {{ phys_netlist_output }}/vivado_checkpoint_to_v.jou
    log = {{ phys_netlist_output }}/vivado_checkpoint_to_v.log

