build {{ log_file }} {{ dcp_encrypted }}: encrypt_ip {{ dcp_unencrypted }}
    key = 00112233445566778899AABBCCDDEEFF
    dcp_encrypted = {{ dcp_encrypted }}
    lut_ciphertext = {{ lut_ciphertext }}
    log_file = {{ log_file }}

build {{ cwd }}/dcp_to_v.tcl: template {{ cwd }}/dcp_to_v.json {{ gen_encrypted_verilog_template }}
    cwd = {{ cwd }}

build {{ verilog_encrypted_touch }}: vivado {{ cwd }}/dcp_to_v.tcl {{ dcp_encrypted }}
    cwd = {{ cwd }}
    journal = {{ cwd }}/vivado.jou
    log = {{ cwd }}/vivado.log

build {{ verilog_encrypted }}: apply_dont_touch {{ verilog_encrypted_touch }} 
    module_name = {{ ip_defn_name }}

